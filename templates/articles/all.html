{% extends '../base.html' %}
{% load parse_date split_get_last %}

{% block content %}
<div class="row pt-3">
    <div class="col-md-8 blog-main">
        {% for article in articles %}
            <div class="blog-post">
                <h2 class="blog-post-title">{{ article.title }}</h2>
                <p class="blog-post-meta">
                    {{ article.published|parse_date|date:"M. d, Y, h:i A" }} by
                    <a href="{% url 'single-author' article.author %}">{{ article.author }}</a>
                    - Category: {{ article.arxiv_primary_category.term }}</p>
                <p>{{ article.summary|safe }}</p>
<!--                TODO: I should find a better way than splitting this in the template-->
                <a href="{% url 'single-article' article.id|split_get_last:'/' %}">Read more...</a>
            </div><!-- /.blog-post -->
        {% endfor %}

        <nav class="blog-pagination">
            <a
                    class="btn {% if not previous %}btn-outline-secondary disabled{% else %}btn-outline-primary{% endif %}"
                    href="{% url 'all-articles' %}?start={{previous}}&max_results={{max_results}}"
            >
                Older
            </a>
            <a
                    class="btn btn-outline-primary"
                    href="{% url 'all-articles' %}?start={{next}}&max_results={{max_results}}"
            >
                Newer
            </a>
        </nav>
    </div><!-- /.blog-main -->

    <aside class="col-md-4 blog-sidebar">
        <div class="p-3 mb-3 bg-light rounded">
            <h4 class="font-italic">About</h4>
            <p class="mb-0">A little project that displays a list of new articles containing information relevant
                to psychiatry, therapy, data science or machine learning.</p>
        </div>
    </aside><!-- /.blog-sidebar -->
</div><!-- /.row -->
{% endblock %}
